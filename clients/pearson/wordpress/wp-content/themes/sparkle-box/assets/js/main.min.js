$(document).ready(function(){function e(){$(".blog-menu__dropdown li.program").hide(),""!=l.val()&&$(".blog-menu__dropdown li.program:icontains("+l.val()+")").show()}function r(){0!==location.hash.length&&window.scrollTo(window.scrollX,window.scrollY-100)}function o(e){$(".program-select--vertical option").attr("disabled","disabled"),$(".program-select--vertical option[value='']").removeAttr("disabled"),$(".program-selector__menu__program"+e).each(function(){$(".program-select--vertical option[value='."+$(this).data("vertical")+"']").removeAttr("disabled")})}function n(e){$(".program-select--degree option").attr("disabled","disabled"),$(".program-select--degree option[value='']").removeAttr("disabled"),$(".program-selector__menu__program"+e).each(function(){$(".program-select--degree option[value='."+$(this).data("level")+"']").removeAttr("disabled")})}function t(){$("#form").hasClass("hideForPrivacy")?($("#lightbox__wrap--privacy").hide(),$("#form").removeClass("hideForPrivacy").show(),$("#form .lightbox__close").show()):($("body").removeClass("lightbox-active"),$("#form").removeClass("lightboxed"),$("#lightbox").removeClass("lightboxed").hide(),$("#hero__form").css("min-height",0),$(".lightbox__wrap").hide(),$("#form .lightbox__close").hide(),$(".hero--overlap__row__col--form-wrap").removeClass("zindex-adjust"))}function a(e,r){return e/r*360}function i(e,r,o,n,t){$(r).append("<div class='slice "+n+"'><span></span></div>");o-=1;var a=-179+e;$("."+n).css({transform:"rotate("+o+"deg) translate3d(0,0,0)"}),$("."+n+" span").css({transform:"rotate("+a+"deg) translate3d(0,0,0)","background-color":t})}function s(e,r,o,n,t,a){var _="s"+n+"-"+t;e<=179?i(e,r,o,_,a):(i(179,r,o,_,a),s(e-179,r,o+179,n,t+1,a))}$('a[rel="pop"]').click(function(){return window.open($(this).attr("href"),"name","height=600,width=750, toolbar=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes"),!1}),$(".accordion__wrap .accordion__wrap__header").click(function(){$(this).hasClass("accordion--active")?($(this).children(".accordion__wrap__header__button").html("+"),$(this).removeClass("accordion--active").next().slideUp()):($(this).siblings(".accordion--active").children(".accordion__wrap__header__button").html("+"),$(this).siblings(".accordion--active").removeClass("accordion--active").next().slideUp(),$(this).children(".accordion__wrap__header__button").html("-"),$(this).addClass("accordion--active").next().slideDown())}),$(".header__nav nav").attr("role","navigation"),$("ul.menu").attr("role","menubar"),$("ul.menu li ").attr("role","menuitem"),$("ul.menu li ul.sub-menu").attr("role","menu"),$(".blog-menu__toggle").click(function(){$(".blog-menu__dropdown").toggle()}),jQuery.expr[":"].icontains=function(e,r,o){return jQuery(e).text().toUpperCase().indexOf(o[3].toUpperCase())>=0};var _,l=$("#blog-cat-search");l.on("keyup",function(){clearTimeout(_),_=setTimeout(e,300)}),l.on("keydown",function(){clearTimeout(_)}),$(document).on("click",'a[href^="#"]',function(e){window.setTimeout(function(){r()},0)}),window.setTimeout(r,0),$(".program-selector").data("degreefilter"),$(".program-selector").data("degreefilter")?o("."+$(".program-selector").data("degreefilter")):$(".program-selector").data("interestfilter")&&n("."+$(".program-selector").data("interestfilter")),$(".program-select--degree").on("change",function(){var e=$(".program-select--vertical option:selected").val();"all"==this.value&&$(".program-selector__program").hide(),$(".program-selector__menu__program").hide(),$(".program-selector__menu__program"+this.value+e).show(),o(this.value),dataLayer.push({degreeselected:this.value.replace(".",""),verticalselected:$(".program-select--vertical").val().replace(".",""),event:"degreeselection"})}),$(".program-select--vertical").on("change",function(){var e=$(".program-select--degree option:selected").val();$(".program-selector__menu__program").hide(),$(".program-selector__menu__program"+this.value+e).show(),n(this.value),dataLayer.push({degreeselected:$(".program-select--degree").val().replace(".",""),verticalselected:this.value.replace(".",""),event:"degreeselection"})}),$(".course-description-toggle").click(function(){$(this).hasClass("descriptions-hidden")?($(this).siblings(".courses").find(".curriculum-description").show(),$(this).removeClass("descriptions-hidden")):($(this).siblings(".courses").find(".curriculum-description").hide(),$(this).addClass("descriptions-hidden"))}),$(".expandable-toggle").click(function(){$(this).hasClass("descriptions-hidden")?($(this).siblings(".expandable-items").find(".item-hidden").show(),$(this).removeClass("descriptions-hidden")):($(this).siblings(".expandable-items").find(".item-hidden").hide(),$(this).addClass("descriptions-hidden"))}),$(function(){function e(){var e=$(window).scrollTop(),i=e+$(window).innerHeight();l=$("#sticky--footer").length?$("#sticky--footer").outerHeight():0,s=a?$("#secondary-footer").offset().top:$("#footer").offset().top,e<=(_=$("#hero").length?0==t&&$("#hero .btn--learn-more").length?$("#hero .btn--learn-more").offset().top+$("#hero .btn--learn-more").outerHeight():$("#hero").offset().top+$("#hero").innerHeight():$("#header").innerHeight()+100)&&i>=s?(n(),r()):e<=_?(n(),r()):e>_&&i<s?(!function(){"none"==$("#sticky--footer").css("display")?$("#sticky--footer").addClass("sticky--footer--fixed").slideDown():$("#sticky--footer").addClass("sticky--footer--fixed");1!=a?$("#footer").css("margin-top",l+"px"):$("#secondary-footer").css("margin-top",l+"px")}(),o()):i>=s-l&&(o(),r())}function r(){$("#sticky--footer").hide().removeClass("sticky--footer--fixed").show(),$("#footer").css("margin-top",0),$("#secondary-footer").css("margin-top",0)}function o(){!0===a&&$("#form").parent().hasClass("hero-form-wrap")&&($(".hero-form-wrap").css("min-height",$(".hero-form-wrap").innerHeight()+"px"),$(window).innerWidth()>767?$(".secondary-footer__row__col__table").css("min-height",$("#form .form__inner").innerHeight()+"px"):$(".secondary-footer__row__col__table").css("min-height","0"),$("#form").appendTo(".secondary-footer-form-wrap"),$(".secondary-footer-form-wrap").css("min-height",$(".secondary-footer-form-wrap").innerHeight()+"px"),$("#form__inner__lead-form").data("form-location","footer"))}function n(){!0===t&&$("#form").parent().hasClass("secondary-footer-form-wrap")&&($(".secondary-footer-form-wrap").css("min-height",$(".secondary-footer-form-wrap").innerHeight()+"px"),$(window).innerWidth()>767?$(".secondary-footer__row__col__table").css("min-height",$("#form .form__inner").innerHeight()+"px"):$(".secondary-footer__row__col__table").css("min-height","0"),$("#form").appendTo(".hero-form-wrap"),$(".hero-form-wrap").css("min-height",$(".hero-form-wrap").innerHeight()+"px"),$("#form__inner__lead-form").data("form-location","hero"))}var t,a,i,s,_,l;$(window).ready(function(){$(".hero-form-wrap").length?(t=!0,$("#form__inner__lead-form").data("form-location","hero")):t=!1,a=!(!$(".secondary-footer-form-wrap").length&&!$("#apply-now-iframe").length),0==t&&1==a&&$("#form__inner__lead-form").data("form-location","footer"),i=!!$("#sticky--footer").length,$(".secondary-footer-form-wrap").css("min-height",$("#form .form__inner").innerHeight()+"px"),$(window).innerWidth()>767?$(".secondary-footer__row__col__table").css("min-height",$("#form .form__inner").innerHeight()+"px"):$(".secondary-footer__row__col__table").css("min-height","0")}),$(window).ready(e).resize(e).scroll(e)}),$("#header .header__menu-toggle").unbind().click(function(){"block"==$("#header__nav").css("display")?($("#header__nav").attr("aria-expanded","false").attr("aria-hidden","true").hide(),$(".header__menu-toggle").removeClass("header__menu-toggle--active")):"none"==$("#header__nav").css("display")&&($("#header__nav").attr("aria-expanded","true").attr("aria-hidden","false").show(),$(".header__menu-toggle").addClass("header__menu-toggle--active"))}),$(".header__nav__close").click(function(){$("#header__nav").attr("aria-expanded","false").attr("aria-hidden","true").hide(),$(".header__menu-toggle").removeClass("header__menu-toggle--active")}),$("#header__nav ul li.menu-item-has-children").click(function(){$(this).toggleClass("submenu-shown"),$(this).children("ul.sub-menu").slideToggle()}),$('<div class="overlay_learnmore"></div>').insertBefore("header"),$(".learnmore").click(function(){$(".form-wrapper-modal").show(),$(".overlay_learnmore").show()}),$(".overlay_learnmore, .close-btn").click(function(){$(".form-wrapper-modal").hide(),$(".overlay_learnmore").hide()}),function(){for(var e=function(){var e=window.location.href,r=[],o=[];void 0!==(r=e.split(/[\?]+/))[1]?(sessionStorage.setItem("utmParams","?"+r[1]),o=e.split(/[\?\&]+/)):null!==sessionStorage.getItem("utmParams")&&(o=sessionStorage.getItem("utmParams").split(/[\?\&]+/));for(var n=[],t=o.length-1;t>0;t--)"prog"==o[t].split("=")[0]||"fname"==o[t].split("=")[0]||n.push(o[t].split("="));return n}(),r=0;r<e.length;r++)"access_code"==e[r][0]||"Access_Code"==e[r][0]||"AccessCode"==e[r][0]||"accesscode"==e[r][0]||"Access-Code"==e[r][0]?$("#form__inner__lead-form input[name='access_code']").val(e[r][1]):$("#form__inner__lead-form").prepend('<input type="hidden" name="'+e[r][0]+'" value="'+e[r][1]+'">')}(),jQuery(function(e){e("h2").each(function(){e(this).html(e(this).html().replace(/\s([^\s<]{0,8})\s*$/,"&nbsp;$1"))}),e("h2 span").each(function(){e(this).html(e(this).text().replace(/\s([^\s<]{0,8})\s*$/,"&nbsp;$1"))}),e("h3, h4 ,main li,p").each(function(){e(this).html().length>40&&e(this).html(e(this).html().replace(/\s([^\s<]{0,10})\s*$/,"&nbsp;$1"))}),e("h3 span, h4 span, main li span, p span").each(function(){e(this).html().length>40&&e(this).html(e(this).text().replace(/\s([^\s<]{0,10})\s*$/,"&nbsp;$1"))})}),$(".btn--learn-more, .learn-more").click(function(){if($("#lightbox__wrap--iframe").length){var e=window.location.href;e=void 0!=(e=(e=e.split("?"))[1])?"?"+e:null!==sessionStorage.getItem("utmParams")?sessionStorage.getItem("utmParams"):"";var r=$("#lightbox__wrap--iframe").attr("data-iframe-src");r+=e,$("body").addClass("lightbox-active"),$("#lightbox").addClass("lightboxed").fadeIn(),$("#lightbox__wrap--iframe #apply-now-iframe").length||$("#lightbox__wrap--iframe").append('<iframe id="apply-now-iframe" class="apply-now-iframe" src="'+r+'" style=""></iframe>')}else $("#hero__row__form").css("min-height",$("#hero__row__form").outerHeight()+"px"),$("body").addClass("lightbox-active"),$("#form").addClass("lightboxed"),$("#form .lightbox__close").show(),$("#lightbox").addClass("lightboxed").fadeIn(),$("#header__nav").hide(),$("#form__inner__lead-form").data("form-location","modal")}),$(".link--lightbox").unbind().click(function(){$("#form").hasClass("lightboxed")?$("#form").addClass("hideForPrivacy").hide():$(".hero--overlap__row__col--form-wrap").addClass("zindex-adjust"),$("#lightbox").addClass("lightboxed").fadeIn();var e=$(this).attr("data-lightbox");$("#"+e).show(),$("#header__nav").hide()}),$(".pop-up-ajax").click(function(e){e.preventDefault();var r=$(this).attr("href");$("#lightbox").addClass("lightboxed").fadeIn(),$("#lightbox__wrap--ajax").show(),$("#lightbox__wrap--ajax .lightbox__wrap__loading-animation").show(),$("#lightbox__wrap--ajax .lightbox__wrap__inner").hide(),$("#header__nav").hide(),$.ajax({url:r,type:"GET",dataType:"html",success:function(e){$("#lightbox__wrap--ajax .lightbox__wrap__loading-animation").hide(),$("#lightbox__wrap--ajax .lightbox__wrap__inner").html("<h1>"+$(e).find("#hero h1").text()+"</h1>"+$(e).find("#main .content").html()).show()},error:function(){console.log("Failed!")}})}),$(".thank-you-privacy").unbind().click(function(){$("#lightbox").addClass("lightboxed").fadeIn(),$("#lightbox__wrap--privacy").show(),$("#header__nav").hide()}),$(".lightbox__close").click(function(){t(),event.stopPropagation()}),$("#lightbox").click(function(){t(),event.stopPropagation()});var d={init:function(){this.cacheDOM(),this.handleCharts()},cacheDOM:function(){this.$chart=$(".bar-chart")},cssSelectors:{chartBar:"bar-chart--inner"},handleCharts:function(){$.each(this.$chart,function(){var e=$(this),r=e.data("total"),o=e.find("."+d.cssSelectors.chartBar);o.css("width","0%"),setTimeout(function(){o.css("width",r+"%")},400)})}};d.init(),function(e,r){var o=[];$(e+" span").each(function(){o.push(Number($(this).html()))});for(var n=0,t=0;t<o.length;t++)n+=o[t];var i=0,_=["#d9dfe1","#0094d7","#ea7125","#002663"];for(t=0;t<o.length;t++){var l=a(o[t],n);s(l,r,i,t,0,_[t]),$(e+" li:nth-child("+(t+1)+")").css("border-color",_[t]),i+=l}}(".pieID.legend",".pieID.pie")}),$(function(){function e(e,r){var o="#form__inner__lead-form "+e,n=o+"."+r;$(o).hide(),$(o+" input").prop("disabled",!0),$(o+" select").prop("disabled",!0),$(n).show(),$(n+" input").prop("disabled",!1),$(n+" select").prop("disabled",!1)}function r(e){if(e>0){var r=null,o=null,n=null;void 0!=$(".form__inner__lead-form__question--current input:checked").val()?(r=$(".form__inner__lead-form__question--current input:checked").val(),o="Radio",n=$(".form__inner__lead-form__question--current input:checked").attr("name")):(r=$(".form__inner__lead-form__question--current select:enabled").val(),o="Select",n=$(".form__inner__lead-form__question--current select:enabled").attr("name")),dataLayer.push({event:"Lead-Form-Event",formType:$(".form__inner__lead-form__question").length+"-Step-RFI-Form",formLocation:$("#form__inner__lead-form").data("form-location"),formStep:"Step-"+e,answerSelected:r,selectionType:o,laurusQuestion:n,questionText:$(".form__inner__lead-form__question--current .form__inner__lead-form__question__wrap:visible .form__inner__lead-form__question__copy__question").text().trim(),buttonText:$(".form__inner__lead-form__question--current .form__inner__lead-form__question__nav__btn--next").text().trim()})}a.removeClass("form__inner__lead-form__question--current").eq(e).addClass("form__inner__lead-form__question--current")}function o(){return a.index(a.filter("#form__inner__lead-form .form__inner__lead-form__question--current"))}function n(){$(".form__inner__lead-form__question--usphone").show().prop("disabled",!1),$(".form__inner__lead-form__question--intphone").hide().prop("disabled",!0)}function t(e,r){$(".form__loading-animation").length&&$(".form__loading-animation").addClass("loading"),function(){try{var e="";ga(function(){for(var r=ga.getAll(),o=0;o<r.length;++o){var n=r[o].get("trackingId");e=e.concat(n+",")}var t=r[0].get("clientId");e=e.substring(0,e.length-1),i="&ga_client_id="+t+"&tracking_ids="+e})}catch(e){}}();(n=$("#form__inner__lead-form").serialize()+i).replace(/[^A-Za-z0-9]/g,"");var o=$("#form").hasClass("lightboxed"),n=$("#form__inner__lead-form").serialize()+i;$.ajax({url:"/wp-content/plugins/ckg-lead-form/form_send.php",type:"post",data:n,success:function(n){var t="thank";1==o?(window.optimizely=window.optimizely||[],window.optimizely.push(["trackEvent","modallead"]),t="thank-modal"):(window.optimizely=window.optimizely||[],window.optimizely.push(["trackEvent","leadsubmit"])),dataLayer.push({event:t,formType:$(".form__inner__lead-form__question").length+"-Step-RFI-Form",formLocation:$("#form__inner__lead-form").data("form-location"),formStep:"Last-Step",answerSelected:"Last-Step",selectionType:"fields",laurusQuestion:"personal-info",questionText:$(".form__inner__lead-form__question--current .form__inner__lead-form__question__wrap:visible .form__inner__lead-form__question__copy__question").text().trim(),buttonText:$("#form__inner__lead-form .btn--submit").attr("value").trim()});var a=window.location.href;a=void 0!=(a=(a=a.split("?"))[1])?"&"+a:null!==sessionStorage.getItem("utmParams")?sessionStorage.getItem("utmParams").replace("?","&"):"",setTimeout(function(){window.location.replace("/thank-you/?fname="+e+"&prog="+r+a)},750)}})}if($("#form__inner__lead-form").length){$('#form__inner__lead-form [name="program"]').change(function(){e(".conditional-program-question",$(this).attr("data-cond-group")),void 0!=$(this).attr("data-internation-lead")?$(".form__inner__lead-form__question__answers__answer--select--country").show().prop("disabled",!1):$(".form__inner__lead-form__question__answers__answer--select--country").hide().prop("disabled",!0);var r=$(this).attr("data-leads-enterprise-campaign-code");void 0==r&&(r=$("option:selected",this).attr("data-leads-enterprise-campaign-code")),$('#form__inner__lead-form [name="Leads_Enterprise_Campaign_Code"]').length&&void 0!=r&&$('#form__inner__lead-form [name="Leads_Enterprise_Campaign_Code"]').val(r)}),$("#form__inner__lead-form .conditional-laurus-event").change(function(){var r=$(this).attr("data-cond-group");void 0==r&&(r=$("option:selected",this).attr("data-cond-group")),e(".conditional-laurus-question",r)});var a=$(".form__inner__lead-form__question");$("form").parsley({errorsContainer:function(e){var r=e.$element.closest(".form__inner__lead-form__question__answers");return r.length>0?r.find(".form__inner__lead-form__question__answers__errors"):e}}),$(".form__inner__lead-form__question__answers__answer--select--country").change(function(){"United States"==this.value?(n(),$(".form__inner__lead-form__question--uszip").show().prop("disabled",!1),$(".form__inner__lead-form__question--postal").hide().prop("disabled",!0)):"Canada"==this.value?(n(),$(".form__inner__lead-form__question--uszip").hide().prop("disabled",!0),$(".form__inner__lead-form__question--postal").show().prop("disabled",!1)):($(".form__inner__lead-form__question--usphone").hide().prop("disabled",!0),$(".form__inner__lead-form__question--intphone").show().prop("disabled",!1),$(".form__inner__lead-form__question--last_step_info .form__inner__lead-form__question__answers").css("min-height",$(".form__inner__lead-form__question--last_step_info .form__inner__lead-form__question__answers").outerHeight()+"px"),$(".form__inner__lead-form__question--uszip").hide().prop("disabled",!0),$(".form__inner__lead-form__question--postal").hide().prop("disabled",!0))}),$("#form__inner__lead-form").parsley({excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden], [disabled], :hidden"}),$(".form__inner__lead-form__question__nav__btn--next").click(function(){$("#form__inner__lead-form").parsley().validate({group:"block-"+o()})&&r(o()+1)}),a.each(function(e,o){$(o).find(":input").attr("data-parsley-group","block-"+e),r(0),$("#form__inner__lead-form").length&&($("#form__inner__lead-form").parsley().on("field:validated",function(){var e=0===$(".parsley-error").length;$(".bs-callout-info").toggleClass("hidden",!e),$(".bs-callout-warning").toggleClass("hidden",e)}),$("#form__inner__lead-form").parsley().on("form:submit",function(){var e,r=$("#form__inner__lead-form").find('input[name="name"]').val().split(" ")[0];return e=null!=$('#form__inner__lead-form select[name="program"]:enabled').val()?$('#form__inner__lead-form select[name="program"]:enabled').val():null!=$('#form__inner__lead-form [name="program"]:checked').val()?$('#form__inner__lead-form [name="program"]:checked').val():$('#form__inner__lead-form [name="program"]').val(),e=e.replace("_","-"),t(r,e),!1}))});var i}});